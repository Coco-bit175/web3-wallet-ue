<!DOCTYPE html>
<html>
<head>
  <title>Solana Wallet</title>
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
  <script>
    async function createWallet() {
      const kp = solanaWeb3.Keypair.generate();
      window.ue.interface.sendMessage("WalletInterface", JSON.stringify({
        type: "new_wallet",
        publicKey: kp.publicKey.toBase58(),
        secretKey: Array.from(kp.secretKey)
      }));
    }

    async function connectPhantom() {
      if (window.solana && window.solana.isPhantom) {
        try {
          const resp = await window.solana.connect();
          window.ue.interface.sendMessage("WalletInterface", JSON.stringify({
            type: "phantom_connect",
            publicKey: resp.publicKey.toString()
          }));
        } catch (err) {
          console.error("User rejected the connection.");
        }
      } else {
        alert("Phantom Wallet not found.");
      }
    }
  </script>
</head>
<body>
  <h2>Solana Wallet Actions</h2>
  <button onclick="createWallet()">Create Wallet</button>
  <button onclick="connectPhantom()">Connect Phantom Wallet</button>
</body>
</html>
